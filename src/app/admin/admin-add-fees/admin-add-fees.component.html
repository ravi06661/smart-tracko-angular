<div id="main" class="main dashboard_page">
    <div class="profile d-flex">

        <div class="profile_top_heading d-flex gap_24">
            <h1 class="font-27 font-700 secondary mb-0">Fees</h1>
        </div>

        <app-profile-bar></app-profile-bar>
    </div>

    <!-- DASHBOARD START -->

    <div class="scroll_dashboard">
        <div class="assignment-stats">
            <h3 class="admin-title font-17 font-600 secondary position-relative mb_20">Add Fees</h3>
            <form [formGroup]="feesPayDetails" action="" class="mb_24">
                <div class="row">
                    <div class="col-md-4">
                        <label for="" class="mb_6 font-17 font-500 secondary">Name</label>
                        <select class="form-select" aria-label="Default select example" id="fullName" name="fullName"  (change)="onStudentChange($event)"   formControlName="fullName">
                          <option selected="">Select Name</option>
                          <option [value]="students.studentId" *ngFor="let students of student">{{ students.fullName }} ({{ students.studentId }})  </option>
                        </select>
                        <div *ngIf="isFieldInvalidForfeesPayDetailsForm('fullName')"
                        class="text-danger">Full Name is required.</div>
                      </div>
                      
                      <div class="col-md-4">
                        <label for="" class="mb_6 font-17 font-500 secondary">Roll No.</label>
                        <input type="number" id="studentId" name="studentId" class="form-control input_text" [(ngModel)]="fees.student.studentId" placeholder="Roll no." formControlName="studentId" readonly>
                        <div *ngIf="isFieldInvalidForfeesPayDetailsForm('studentId')"
                        class="text-danger">Roll No is required.</div>
                      </div>
                      
                      
                    <div class="col-md-4 mb_20">
                        <label for="email" class="mb_6 font-17 font-500 secondary">Email</label>
                        <div class="input_icon position-relative">
                            <input type="email" id="email" name="email" class="form-control input_text"
                            [(ngModel)]="fees.student.email" placeholder="Enter Email" formControlName="email" readonly>
                            <div *ngIf="isFieldInvalidForfeesPayDetailsForm('email')"
                        class="text-danger">Email is required.</div>
                        </div>
                    </div>
                    <div class="col-md-4 mb_20">
                        <label for="mobile" class="mb_6 font-17 font-500 secondary">Mobile No.</label>
                        <div class="input_icon position-relative">
                            <input type="text" id="mobile" name="mobile" class="form-control input_text"
                            [(ngModel)]="fees.student.mobile"  placeholder="Enter Mobile No." formControlName="mobile" readonly>
                            <div *ngIf="isFieldInvalidForfeesPayDetailsForm('mobile')"
                        class="text-danger">Mobile No. is required.</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="" class="mb_6 font-17 font-500 secondary">Course</label>
                        <select class="form-select" aria-label="Default select example" id="courseId" name="courseId" (change)="onCourseChange($event)" formControlName="courseName">
                            <option value="select" disabled selected></option>
                            <option [value]="courses.courseId" *ngFor="let courses of course">{{courses.courseName}} </option>
                           
                        </select>
                        <div *ngIf="isFieldInvalidForfeesPayDetailsForm('courseName')"
                        class="text-danger">Course is required.</div>
                    </div>
                    <div class="col-md-4 mb_20">
                        <label for="" class="mb_6 font-17 font-500 secondary">Course Fees</label>
                        <div class="input_icon position-relative">
                            <input type="text" id="courseFees" name="courseFees" class="form-control input_text"
                                placeholder="Enter Course Fees" [(ngModel)]="fees.course.courseFees" formControlName="courseFees" readonly>
                                <div *ngIf="isFieldInvalidForfeesPayDetailsForm('courseFees')"
                        class="text-danger">CourseFees is required.</div>
                        </div>
                    </div>
                    <div class="col-md-4 mb_20">
                        <label for="finalFees" class="mb_6 font-17 font-500 secondary">Final Fees</label>
                        <div class="input_icon position-relative">
                          <input type="number" id="finalFees" name="finalFees" class="form-control input_text"
                            placeholder="Enter Final Fees" [(ngModel)]="fees.finalFees" formControlName="finalFees" appRemoveLeadingZeros  >
                            <div *ngIf="isFieldInvalidForfeesPayDetailsForm('finalFees')"
                        class="text-danger">FinalFees is required.</div>
                        </div>
                      </div>
                    <div class="col-md-4 mb_20">
                        <label for="" class="mb_6 font-17 font-500 secondary">Date</label>
                        <div class="input_icon position-relative">
                            <input type="date" id="date" name="date" class="form-control input_text" [(ngModel)]="fees.date"
                                placeholder="Enter Mobile No." formControlName="date">
                                <div *ngIf="isFieldInvalidForfeesPayDetailsForm('date')"
                        class="text-danger">Date is required.</div>
                        </div>
                    </div>
                </div><!-- row -->
                <div class="row text-center">
                    <div class="col-md-12">
                        <a  class="fees_submit_btn font-17 font-500" data-bs-toggle="modal" (click)="addFees()">Submit</a>
                    </div>
                </div>
            </form>

        </div>

        <!-- RIGHT SIDE START-->
        <app-right-side-bar></app-right-side-bar>
        <!-- RIGHT SIDE END -->

    </div>
    <!--DASHBOARD END -->

        <!-- Modal Admin Delete Modal Start -->
<div class="modal fade" id="payment-modal" tabindex="-1" aria-labelledby="payment-modal"
aria-hidden="true">
<div class="modal-dialog position-relative leave_modal">
<div class="modal-content">
  <div class="modal-body">
      <button type="button" class="close_btn" data-bs-dismiss="modal" aria-label="Close"
          style="top: -23%;">
          <i class="fi fi-rr-cross close_icon"></i>
      </button>
      <i class="fi fi-rr-check-circle text-success fs-1 d-block text-center"></i>
      <p class="secondary font-21 font-500 text-center">Your Payment is Successful.
      </p>
      <div class="apply_modal_buttons text-center">
          <a routerLink="/admin/fees">
              <button type="button" class="apply_modal_btn font-15 font-500">Done</button>
          </a>
      </div>

  </div>
</div>
</div>
<!-- Modal Admin Delete Modal End -->